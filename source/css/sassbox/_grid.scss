// =============================================================================
// Grid stylesheet
// Generates grid classes and helpers
// =============================================================================

// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// WARNING!
// This grid class generator mixin isn't being used ATM
// We are currently using the Grid generated by GridsetApp
// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

// =============================================================================
// 1. Configurable variables
// =============================================================================

$total-columns  : 12;
$column-width   : 5.55555555em;
$gutter-width   : 3.03030303em;
$grid-padding   : 0;

// =============================================================================
// 2. Class generators
// =============================================================================

 @mixin grid-class-generator(){

	$attribute-selectors: ();
	$attribute-parent-selectors: ();
	$single-column-classes: ();

// Attribute selectors & single column classes
// =============================================================================

	@for $column from 1 through $total-columns {

		// Generating the class attribute selectors (ex: [class*=d2])
		$attribute-selectors: join($attribute-selectors, unquote("[class*=d#{$column}]"));

		// Generating the class attribute selectors (ex: [class*=d2-])
		$attribute-parent-selectors: join($attribute-parent-selectors, unquote("[class*=d#{$column}-]"));

		// Generating the column classes (ex: .d1)
		$single-column-classes: join($single-column-classes, unquote(".d#{$column}"), comma);

	}

	#{$single-column-classes} {
		width: columns(1);
	}

	@for $column from 1 through $total-columns {
		#{nth($single-column-classes,$column)},#{nth($attribute-parent-selectors,$column)} {
			@include pre($column - 1);
		}
	}

// Suffixed classes (ex: .d1-d2 through d11-d12 get generated)
// =============================================================================

	@for $a from 1 through $total-columns - 1 {
		$current: ();
		@for $i from 1 through $total-columns {
			@if $i + $a <= $total-columns {
				$current: $current, unquote(".d#{$i}-d#{$i + $a}");
			}
		}	//@debug $current;
		#{$current} {
			width: columns($a + 1);
		}
	}

// Suffixed classes (ex: .d1-d2 through d11-d12 get generated)
// =============================================================================
	body {
		@include respond-to-desktop-and-up {
			background: $pink;
		}
	}
	.wrapper {
		@include container;
		@include susy-grid-background;
	}

	.box {
		border: solid 1px $grayLighter;
		background: rgba(200,200,20,.25);
	}

// Grid Helpers
// =============================================================================

	.omega {
		@include omega;
	}

	.d-all {
		width: 100%;
	}

	.d1,[class*=d1-],.d-all,.d-clear {
		clear:left;
	}

	// Attribute selectors
	#{$attribute-selectors} {
		display: block;
		float: left;
		margin-left: 0;
		margin-right: gutter();
		border: solid 1px $grayLighter;
	}
}
